<!DOCTYPE html>
<html>
    <head>
        <title> Projeto Livraria</title>
        <meta charset="utf-8"/>
    </head> 
    <body>
    <h1>Estrutura de Dados</h1>
    <div>
        <h2>Função recursiva</h2>
        <div id="recursiva"></div>
        <h2>Recursiva consumindo Array</h2>
        <div id="lerArray"></div>
    </div>

    <h2>Filas</h2>
    <div>
    <p>Proximo Cliente</p>
    <p id="next"></p>
    <p>Usuários Atendidos</p>
    <ul id="result"></ul>
    <p>Usuários Aguardando Suporte</p>
    <ul id="users"></ul>
    <button id="btAtende" class="bt btn-info" >Atendimento Concluído</button>
    <button id="darBaixa" class="bt btn-info" >Dar baixa</button>
    </div>
     </body>
     <script>
         let n=20
         let paises=["Brasil","França","alemanha","Argentina"]
         let x=0
         function recursiva_array(obj){
             if(x < paises.length){
                 obj.innerHTML+=paises[x] + "<br />"
                 x++
                 recursiva_array(document.querySelector("#lerArray"))
            
             }
         }
         recursiva_array(document.querySelector("#lerArray"))

         function recursiva(obj){
             if(n>1){
                 n=n-1
                 //return n
                 obj.innerHTML+=n + "<br />"
                 //n--
                 recursiva(document.querySelector("#recursiva"))
            
             }
         }
         //1° chamada
         recursiva(document.querySelector("#recursiva"))
         //document.querySelector("#recursiva").innerHTML += recursiva() + <br/>

         //FILAS=QUEUES (FIFO = First in , First out)
         let fila = []
         let usuariosAtendidos=[]
         fila.push(25)
         fila.push(34)
         fila.push(9)
         // fila criada
         console.log(fila)
         console.log(fila[0])
         usuariosAtendidos.push(fila[0])
         
         fila.shift()
         console.log("Array após a primeira chamada ",fila)
         console.log(fila[0])
         usuariosAtendidos.push(fila[0])

         fila.shift()
         console.log("Array após a segunda chamada ",fila)
         console.log(fila[0])
         console.log("Usuarios Atendidos",usuariosAtendidos)
         // next=proximo user , users=lista de pendência, 
         //result=lista de atendidos 
         //btAtende=botão de confirmação

         listaUsers=["Alan","Debora","Francis","Geordia","Osmar"]
         listaResult=[]
         function users(){
            document.querySelector("#users").innerHTML=""
         for(var i=0;i<listaUsers.length;i++){
             document.querySelector("#users").innerHTML+="<li>" + listaUsers[i]+"</li>"
         }
          listaUsers.length>0 ? document.querySelector("#next").innerHTML=listaUsers[0]:null
        }
        users()
        document.querySelector('#btAtende').onclick=function(){ darBaixa()}

        function darBaixa(){
            if(listaUsers.length>0){
            listaResult.push(listaUsers[0])
            document.querySelector("#result").innerHTML=""
            for(var i=0;i<listaResult.length;i++){
             document.querySelector("#result").innerHTML+="<li>" + listaResult[i]+"</li>"
         }
            listaUsers.shift()
            users()
        } else{
            document.querySelector("#next").innerHTML="<b> Todos os Cilentes foram Atendidos</b>"
        }
        }
        let intervaloBaixa
        document.querySelector("#darBaixa").onclick=function(){ 
        intervaloBaixa=setInterval(function(){
            darBaixa()},2000)
        }
        //para encerrar o intervalo use clearInterval(intervaloBaixa)
     </script>
     </html>